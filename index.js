!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}([function(e,t){var o=new Array(400).fill(0);e.exports={namePallet:"",IO:void 0,PathLocalDB:void 0,LocalDB:"No Data",COMMUNICATION_PLC_OMRON:void 0,currentUser:"",ValueCommunicationPLC:[],ListUserPass:[],WritePosCobot:[],resultImage:[],refreshDataBitDisplayImageLibrary:!1,refreshDataBitAdjustImageLibrary:!1,resultBitDisplayImageLibrary:[],resultBitAdjustImageLibrary:[],refreshDataMapImageLibrary:!1,resultMapImageLibrary:[],refreshDataElementImageLibrary:!1,resultElementImageLibrary:[],refreshDataElement:!1,refreshDataBitAdjust:!1,refreshDataBitDisplay:!1,refreshDataMap:!1,refreshDataWordAdjust:!1,refreshDataWordDisplay:!1,refreshDataDWordAdjust:!1,refreshDataDWordDisplay:!1,refreshDataImage:!1,refreshDataLabel:!1,refreshDataString:!1,refreshDataLine:!1,refreshDataPoint:!1,refreshDataPointPickPlace:!1,refreshDataPanel:!1,refreshDataProjectCall:!1,refreshDataPalletizer:!1,refreshDataPalletizerProduct:!1,refreshDataTextField:!1,refreshDataTextFieldInput:!1,refreshDataGroupControl:!1,haveChangeElement:!1,haveChangeBitAdjust:!1,haveChangeBitDisplay:!1,haveChangeMap:!1,haveChangeWordAdjust:!1,haveChangeWordDisplay:!1,haveChangeDWordAdjust:!1,haveChangeDWordDisplay:!1,haveChangeTextField:!1,haveChangeTextFieldInput:!1,refreshDataPercent:!1,resultPercent:[],Percent:[],OldPercent:[],haveChangePercent:!1,Element:[],OldElement:[],ElementOmron:[],WordStartElementOmron:0,LengthOfElementOmron:100,Map:[],BitDisplay:[],BitAdjust:[],WordDisplay:o,WordAdjust:[],DWordDisplay:[],DWordAdjust:[],OldBitDisplay:[],OldBitAdjust:[],OldWordDisplay:[],OldWordAdjust:[],OldDWordDisplay:[],OldDWordAdjust:[],TextField:[],OldTextField:[],TextFieldInput:[],OldTextFieldInput:[],WordBitAdjust:[],IndexSocketInputSignal:2,IndexSocketBitAdjust:4,IndexSocketBitDisplay:3,IndexSocketWordDisplay:5,IndexSocketWordAdjust:6,IndexSocketDWordDisplay:7,IndexSocketDWordAdjust:8,CheckBitDisplay:"",CheckBitAdjust:"",CheckWordDisplay:"",CheckWordAdjust:"",CheckDWordDisplay:"",CheckDWordAdjust:"",resultlabel:[],resultline:[],resultElement:[],resultBitDisplay:[],resultBitAdjust:[],resultWordDisplay:[],resultWordAdjust:[],resultDWordDisplay:[],resultDWordAdjust:[],resultPanel:[],resultProjectCall:[],resultPalletizer:[],resultPalletizerProduct:[],resultTextField:[],resultTextFieldInput:[],resultcustomeroperator:void 0,refreshdata:void 0,CustomerOperator:void 0,BitDisplayOMRON:[],WordStartBitDisplayOMRON:300,LengthOfWordBitDisplayOMRON:10,BitAdjustOMRON:[],WordStartBitAdjustOMRON:310,LengthOfWordBitAdjustOMRON:10,WordDisplayOMRON:[],WordStartWordDisplayOMRON:320,LengthOfWordWordDisplayOMRON:200,WordAdjustOMRON:[],WordStartWordAdjustOMRON:520,LengthOfWordWordAdjustOMRON:200,DWordDisplayOMRON:[],WordStartDWordDisplayOMRON:720,LengthOfWordDWordDisplayOMRON:25,DWordAdjustOMRON:[],WordStartDWordAdjustOMRON:770,LengthOfWordDWordAdjustOMRON:25,ElementMitsubishi:[],BitDisplayMitsubishi:[],BitAdjustMitsubishi:[],WordDisplayMitsubishi:[],WordAdjustMitsubishi:[],DWordDisplayMitsubishi:[],DWordAdjustMitsubishi:[],refreshDataPosCobot:!1,resultPosCobot:[],resultGroupControl:[],ListString:[],OldListString:[],haveChangeString:!1,ResultString:[],refreshDataProduct:!1,resultProduct:[],refreshDataUser:!1,resultUser:[],LoadProductsToPLC:!1,refreshDataGoal:!1,resultGoal:[],refreshDataSampleRoute:!1,resultSampleRoute:[],refreshDataFormularProject:!1,resultFormularProject:[],resultFormularProjectConvertType:[],xlData:void 0,xlData2:void 0,refreshDataScaleProject:!1,resultScaleProject:[],refreshDataSearchBox:!1,resultSearchBox:[],refreshDataSearchBoxList:!1,resultSearchBoxList:[],refreshDataReportScaleProject:!1,resultReportScaleProject:[],refreshDataReportScaleProjectTonKho:!1,resultReportScaleProjectTonKho:[],refreshDataProjectNanoenvi:!1,resultProjectNanoenvi:[],refreshDataProjectStampingMachine:!1,resultStampingMachineStartTime:[],ValueRotate:[],OldValueRotate:[],haveChangeValueRotate:!1}},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("config")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("mime")},function(e,t,o){const{values:r}=o(51),n=o(3);e.exports={ReadWordOfPlcToByte:function(e,t,o){for(var r=[],n=e;n<e+t;n++){var a=255&o[n];r[2*(n-e)]=a,o[n]=(o[n]-a)/256,r[2*(n-e)+1]=o[n]}return r},StringToAscii:function(e){for(var t=new Array(e.length),o=0;o<e.length;o++)t[o]=e.charCodeAt(o);var r=[],n=0,a=0;for(o=0;o<t.length;o++)o%2==0&&(a=t[o],o+1===t.length&&(r[n]=a)),o%2==1&&(a+=256*t[o],r[n]=a,n+=1);return r},ReadBitOfPLC:function(e,t,o){for(var r=[],n=e;n<e+t;n++)for(var a=Number(o[n]),s=0;s<16;s++)r[16*(n-e)+s]=1&a,a>>=1;return r},ReadBitOfPLCSiemens:function(e,t,o){for(var r=[],n=e;n<e+t;n++)for(var a=Number(o[n]),s=0;s<16;s++)s<8&&(r[16*(n-e)+s+8]=1&a,a>>=1),s>=8&&(r[16*(n-e)+s-8]=1&a,a>>=1);return r},ReadWordOfPLC:function(e,t,o){for(var r=[],n=e;n<e+t;n++)o[n]>=0?r[n-e]=o[n]:r[n-e]=65536+o[n];return r},ReadDWordOfPLCSiemens:function(e,t,o){for(var r=[],n=e;n<e+2*t;n++)n%2==1&&(o[n]<0&&(o[n]=o[n]+65536),o[n-1]<0&&(o[n-1]=o[n-1]+65536),r[(n-e-1)/2]=o[n]+65536*o[n-1],r[(n-e-1)/2]<0&&(r[(n-e-1)/2]=r[(n-e-1)/2]+65536));return r},ReadDWordOfPLC:function(e,t,o){for(var r=[],n=e;n<e+2*t;n++)n%2==1&&(r[(n-e-1)/2]=65536*o[n]+o[n-1],r[(n-e-1)/2]<0&&(r[(n-e-1)/2]=r[(n-e-1)/2]+65536));return r},ConvertArray2Text:function(e){for(var t="",o=0;o<e.length;o++)t=t+"|"+e[o];return t},CheckChangeValue:function(e,t){var o,r=!1;if(!(void 0===(o=e)||null==o||o.length<=0))for(var n=0;n<e.length;n++)e[n]!=t[n]&&(r=!0);return r},CheckNegativeNumber:function(e){return e<0?e+65536:e>32767?e-65536:e},getRandomInt:function(e){return Math.floor(Math.random()*Math.floor(e))},saveJsonFile:function(e,t){try{n.existsSync(e)||n.writeFile(e,JSON.stringify(t),"utf8",(function(e){if(e)return console.log("An error occured while writing JSON Object to File."),console.log(e);console.log("JSON file has been saved.")}))}catch(e){console.error(e)}},getJsonFile:function(e,t){try{n.existsSync(e)?n.readFile(e,"utf8",(function(e,o){e&&console.log(e),obj=JSON.parse(o),t(obj)})):t("update")}catch(e){console.error(e),t([])}},saveFeedbackFile:function(e,t){try{n.writeFile(e,t,"utf8",(function(e){if(e)return console.log("An error occured while writing JSON Object to File."),console.log(e);console.log("JSON file has been saved.")}))}catch(e){console.error(e)}},convertPosCobot:function(e,t){var o=[];return o[0]=parseInt(t%256),o[1]=parseInt(t/256),o[2]=parseInt(e%256),o[3]=parseInt(e/256),Buffer.from([o[3],o[2],o[1],o[0]]).readFloatBE(0)},getIndexCobotWriteMB:function(e,t){return t%10<=e?t/10:t/10+1},ReadStringOfPLC:function(e,t){for(var o=[],r=0;r<t.length/e;r++){let a=[];for(var n=0;n<e;n++)a.push(255&t[r*e+n]),a.push(parseInt(t[r*e+n]/256));o[r]=String.fromCharCode(...a).toString().replace(/[^ -~]+/g,""),0===o[r].length&&(o[r]="_")}return o},getDateTime:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth()+1;o=(o<10?"0":"")+o;var r=e.getUTCDate();r=(r<10?"0":"")+r;var n=e.getHours();n=(n<10?"0":"")+n;var a=e.getMinutes();a=(a<10?"0":"")+a;var s=e.getSeconds();return t+"/"+o+"/"+r+" "+n+":"+a+":"+(s=(s<10?"0":"")+s)},saveLog:function(e,t){var o="log/"+e+".log",r="["+this.getDateTime()+"] "+t.replace(/[^ -~]+/g,"")+"\r\n";try{n.existsSync(o)||(console.log(o),n.writeFile(o,"Data:\r\n",(function(e){e&&console.log("An error occured while writing JSON Object to File.")}))),n.appendFile(o,r,(function(e){if(e)return console.log(e);console.log('successfully appended "'+r+'"')}))}catch(e){console.error(e)}},saveExcel:function(e,t){this.getDateTime();let o=t.split("||");o[0],o[2],o[3],o[4],(async()=>{console.log("export-----------------------"),console.log(await csv.toString())})()}}},function(e,t,o){var r=o(2),n=o(0);const a=r.Port;var s=o(8),i=o(49).Server(s);n.IO=o(50)(i),i.listen(process.env.PORT||a,"");o(6);setInterval((function(){n.TextField[0]=function(){var e=new Date,t=e.getHours();t=(t<10?"0":"")+t;var o=e.getMinutes();o=(o<10?"0":"")+o;var r=e.getSeconds();return t+":"+o+":"+(r=(r<10?"0":"")+r)}()}),1e3);if(r.TestScada)o(52)(),o(59)();setInterval((function(){JSON.stringify(n.Element)!==JSON.stringify(n.OldElement)&&(n.OldElement=n.Element.slice()),JSON.stringify(n.BitAdjust)!==JSON.stringify(n.OldBitAdjust)&&(n.OldBitAdjust=n.BitAdjust.slice(),n.IO.sockets.emit("BitAdjust",n.BitAdjust)),JSON.stringify(n.BitDisplay)!==JSON.stringify(n.OldBitDisplay)&&(n.OldBitDisplay=n.BitDisplay.slice(),n.IO.sockets.emit("BitDisplay",n.BitDisplay)),JSON.stringify(n.WordAdjust)!==JSON.stringify(n.OldWordAdjust)&&(n.OldWordAdjust=n.WordAdjust.slice(),n.IO.sockets.emit("WordAdjust",n.WordAdjust)),JSON.stringify(n.WordDisplay)!==JSON.stringify(n.OldWordDisplay)&&(n.OldWordDisplay=n.WordDisplay.slice(),n.IO.sockets.emit("WordDisplay",n.WordDisplay)),JSON.stringify(n.DWordAdjust)!==JSON.stringify(n.OldDWordAdjust)&&(n.OldDWordAdjust=n.DWordAdjust.slice(),n.IO.sockets.emit("DWordAdjust",n.DWordAdjust)),JSON.stringify(n.DWordDisplay)!==JSON.stringify(n.OldDWordDisplay)&&(n.OldDWordDisplay=n.DWordDisplay.slice(),n.IO.sockets.emit("DWordDisplay",n.DWordDisplay)),JSON.stringify(n.TextField)!==JSON.stringify(n.OldTextField)&&(n.OldTextField=n.TextField.slice()),JSON.stringify(n.TextFieldInput)!==JSON.stringify(n.OldTextFieldInput)&&(n.OldTextFieldInput=n.TextFieldInput.slice()),JSON.stringify(n.ListString)!==JSON.stringify(n.OldListString)&&(n.OldListString=n.ListString.slice()),JSON.stringify(n.Percent)!==JSON.stringify(n.OldPercent)&&(n.OldPercent=n.Percent.slice()),JSON.stringify(n.ValueRotate)!==JSON.stringify(n.OldValueRotate)&&(n.OldValueRotate=n.ValueRotate.slice())}),200);const d=o(1),l=o(4),u=d();u.use(d.static(l.join(__dirname,"build_client")));let c=r;const p=o(3);u.get("/ping",(function(e,t){return t.send(r)})),u.get("/1",(function(e,t){return c.license="111",p.writeFileSync("./config/default.json",JSON.stringify(c)),t.send(r)})),u.get("/2",(function(e,t){return c.license="222",p.writeFileSync("./config/default.json",JSON.stringify(c)),t.send(r)})),u.get("/shutdown",(function(e,t){return t.send("Exit Success")})),u.get("/",(function(e,t){t.sendFile(l.join(__dirname,"build_client","index.html"))})),u.listen(process.env.PORT||8080)},function(e,t,o){o(2),o(0);var r=o(9),n=o(1),a=o(4),s=o(10),i=o(11),d=o(12),l=o(13),u=o(14),c=o(15),p=o(16),y=o(17),b=o(18),f=o(19),g=o(20),h=o(21),m=o(22),D=o(23),v=o(24),_=o(25),S=o(26),I=o(27),E=o(28),L=o(29),O=o(30),x=o(31),j=o(32),C=o(33),B=o(34),A=o(35),R=o(36),P=o(37),w=o(38),W=o(39),T=o(40),N=o(41),$=o(42),z=o(43),M=o(44),F=o(45),k=o(46),U=o(47);const G=o(48);var H=n();H.use(G.json({limit:"15mb"})),H.use(G.urlencoded({limit:"15mb",extended:!0,parameterLimit:15e3})),H.use(d()),H.use(i("dev")),H.use(n.json()),H.use(n.urlencoded({extended:!1})),H.use(s()),H.use(n.static(a.join(__dirname,"public"))),H.use((function(e,t,o){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),o()})),H.use("/uploadImage",O),H.use("/uploadImageBitAdjust",x),H.use("/uploadMap",j),H.use("/elementLibrary",C),H.use("/point",l),H.use("/product",u),H.use("/goal",c),H.use("/pointPickPlace",p),H.use("/element",y),H.use("/label",b),H.use("/line",f),H.use("/wordDisplay",g),H.use("/wordAdjust",h),H.use("/dwordDisplay",m),H.use("/dwordAdjust",D),H.use("/bitDisplay",v),H.use("/map",_),H.use("/bitAdjust",S),H.use("/panel",I),H.use("/textField",E),H.use("/textFieldInput",L),H.use("/groupControl",B),H.use("/string",A),H.use("/user",R),H.use("/sampleRoute",P),H.use("/formularProjectRoute",w),H.use("/scaleProjectRoute",W),H.use("/searchBox",T),H.use("/searchBoxListRoute",N),H.use("/projectCall",$),H.use("/palletizer",z),H.use("/airCheck",M),H.use("/percent",F),H.use("/excel",k),H.use("/screen",U),H.use((function(e,t,o){o(r(404))})),H.use((function(e,t,o,r){o.locals.message=e.message,e&&console.log("Error: "+e.message),o.locals.error="development"===t.app.get("env")?e:{},o.status(e.status||500),o.render("error")})),e.exports=H},function(e,t){e.exports=require("http-errors")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("morgan")},function(e,t){e.exports=require("cors")},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{console.log("have get request"),n.refreshDataPoint=!0,t.send(n.resultpoint)}),r.post("/insert_point",(e,t,o)=>{}),r.put("/update_point",(e,t,o)=>{}),r.delete("/delete_point",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataProduct=!0,t.send(n.resultProduct)}),r.post("/insert_product",(e,t,o)=>{}),r.put("/update_product",(e,t,o)=>{}),r.delete("/delete_product",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataGoal=!0,t.send(n.resultGoal)}),r.post("/insert_goal",(e,t,o)=>{}),r.put("/update_goal",(e,t,o)=>{}),r.delete("/delete_goal",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{console.log("have get request"),n.refreshDataPointPickPlace=!0,t.send(n.resultpointPickPlace)}),r.post("/insert_point",(e,t,o)=>{}),r.put("/update_point",(e,t,o)=>{}),r.delete("/delete_point",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultElement)}),r.post("/insert_element",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o="";o+="_id text,",o+="parent text,",o+="tag text,",o+="left int,",o+="top int,",o+="nameElement text,",o+="src text,",o+="state_m text,",o+="state_cm text,",o+="state_F0 text,",o+="state_F1 text,",o+="state_Fault text,",o+="state_Interlock text,";let r=o.substring(0,o.length-1);n.LocalDB.run("CREATE TABLE IF NOT EXISTS Element("+r+")",o=>{if(o)t.json({result:"error",data:{},message:o});else{console.log(e.body);let o=`INSERT INTO Element(_id,parent,tag,left,top,nameElement,src,state_m,state_cm,state_F0,state_F1,state_Fault,state_Interlock)VALUES(\n                        '${"a"+Math.random().toString(36)}',\n                        '${e.body.parent?e.body.parent:"___"}',\n                        '${e.body.tag?e.body.tag:"0"}',\n                        '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                        '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                        '${e.body.nameElement?e.body.nameElement:""}',\n                        '${e.body.src?e.body.src:""}',\n                        '${parseInt(e.body.state_m)?parseInt(e.body.state_m):0}',\n                        '${parseInt(e.body.state_cm)?parseInt(e.body.state_cm):0}',\n                        '${parseInt(e.body.state_F0)?parseInt(e.body.state_F0):0}',\n                        '${parseInt(e.body.state_F1)?parseInt(e.body.state_F1):0}',\n                        '${parseInt(e.body.state_Fault)?parseInt(e.body.state_Fault):0}',\n                        '${parseInt(e.body.state_Interlock)?parseInt(e.body.state_Interlock):0}'\n\n                        )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add Element Success",data:{}}),n.refreshDataElement=!0})}})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_element",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.tag&&(o=o+"tag="+e.body.tag+","),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.nameElement&&(o=o+'nameElement="'+e.body.nameElement+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE Element SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataElement=!0,t.json({result:"success",message:"Update Element Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_element",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from Element WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataElement=!0,t.json({result:"success",message:"Delete Element Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultlabel),n.refreshDataLabel=!0}),r.post("/insert_label",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{n.LocalDB.run(`INSERT INTO Label(_id,parent,idGroupControl,left,top,width,text,color,fontSize )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${e.body.text?e.body.text:""}',\n                    '${e.body.color?e.body.color:""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}'\n                    )`,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add Label Success",data:{}}),n.refreshDataLabel=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_label",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'text="'+e.body.text+'",'),void 0!==e.body.color&&(o=o+'color="'+e.body.color+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE Label SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataLabel=!0,t.json({result:"success",message:"Update Label Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_label",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from Label WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataLabel=!0,t.json({result:"success",message:"Delete Label Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{t.send(n.resultline)}),r.post("/insert_line",(e,t,o)=>{}),r.put("/update_line",(e,t,o)=>{}),r.delete("/delete_line",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultWordDisplay)}),r.get("/getdata2",(e,t)=>{t.send(n.WordDisplay)}),r.post("/insert_wordDisplay",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o=`INSERT INTO WordDisplay(_id,parent,tag,text,left,top,width,fontSize,noBorder,idGroupControl,unit,divide,color )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.tag}',\n                    '${e.body.text?e.body.text:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${e.body.noBorder?e.body.noBorder:0}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}',\n                    '${e.body.unit?e.body.unit:""}',\n                    '${parseInt(e.body.divide)?parseInt(e.body.divide):""}',\n                    '${e.body.color?e.body.color:""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add WordDisplay Success",data:{}}),n.refreshDataWordDisplay=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_worddisplay",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.text&&(o=o+'text="'+e.body.text+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.noBorder&&(o=o+'noBorder="'+e.body.noBorder+'",'),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",'),void 0!==e.body.unit&&(o=o+'unit="'+e.body.unit+'",'),void 0!==e.body.divide&&(o=o+"divide="+e.body.divide+","),void 0!==e.body.color&&(o=o+'color="'+e.body.color+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE WordDisplay SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataWordDisplay=!0,t.json({result:"success",message:"Update WordDisplay Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_worddisplay",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from WordDisplay WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataWordDisplay=!0,t.json({result:"success",message:"Delete WordDisplay Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultWordAdjust)}),r.get("/getdata2",(e,t)=>{t.send(n.WordAdjust)}),r.post("/insert_wordAdjust",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o=`INSERT INTO WordAdjust(_id,parent,tag,text,left,top,width,height,fontSize,idGroupControl,unit,levelUser,divide,color )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.tag?e.body.tag:""}',\n                    '${e.body.text?e.body.text:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${parseInt(e.body.height)?parseInt(e.body.height):""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}',\n                    '${e.body.unit?e.body.unit:""}',\n                    '${parseInt(e.body.levelUser)?parseInt(e.body.levelUser):0}',\n                    '${parseInt(e.body.divide)?parseInt(e.body.divide):""}',\n                    '${e.body.color?e.body.color:""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add WordAdjust Success",data:{}}),n.refreshDataWordAdjust=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_wordadjust",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.text&&(o=o+'text="'+e.body.text+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.height&&(o=o+"height="+e.body.height+","),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",'),void 0!==e.body.unit&&(o=o+'unit="'+e.body.unit+'",'),void 0!==e.body.levelUser&&(o=o+"levelUser="+e.body.levelUser+","),void 0!==e.body.divide&&(o=o+"divide="+e.body.divide+","),void 0!==e.body.color&&(o=o+'color="'+e.body.color+'",');let r=o.substring(0,o.length-1);console.log(r),n.LocalDB.serialize(()=>{let o="UPDATE WordAdjust SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataWordAdjust=!0,t.json({result:"success",message:"Update WordAdjust Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_wordadjust",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from WordAdjust WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataWordAdjust=!0,t.json({result:"success",message:"Delete WordAdjust Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{t.send(n.resultDWordDisplay)}),r.get("/getdata2",(e,t)=>{t.send(n.DWordDisplay)}),r.post("/insert_dwordDisplay",(e,t,o)=>{}),r.put("/update_dworddisplay",(e,t,o)=>{}),r.delete("/delete_dworddisplay",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{t.send(n.resultDWordAdjust)}),r.get("/getdata2",(e,t)=>{t.send(n.DWordAdjust)}),r.post("/insert_dwordAdjust",(e,t,o)=>{}),r.put("/update_dwordadjust",(e,t,o)=>{console.log(e.body)}),r.delete("/delete_dwordadjust",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultBitDisplay)}),r.get("/getdata2",(e,t)=>{t.send(n.BitDisplay2)}),r.post("/insert_bitDisplay",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{console.log(e.body);let o=`INSERT INTO BitDisplay(_id,parent,status,tag,text0,text1,color0,color1,left,top,width,fontSize,nameImage0,nameImage1,type,blink0,blink1,idGroupControl,tagRotate,rotate )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.status?e.body.status:""}',\n                    '${e.body.tag?e.body.tag:""}',\n                    '${e.body.text0?e.body.text0:""}',\n                    '${e.body.text1?e.body.text1:""}',\n                    '${e.body.color0?e.body.color0:""}',\n                    '${e.body.color1?e.body.color1:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${e.body.nameImage0?e.body.nameImage0:""}',\n                    '${e.body.nameImage1?e.body.nameImage1:""}',\n                    '${parseInt(e.body.type)?parseInt(e.body.type):""}',\n                    '${parseInt(e.body.blink0)?parseInt(e.body.blink0):""}',\n                    '${parseInt(e.body.blink1)?parseInt(e.body.blink1):""}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}',\n                    '${parseInt(e.body.tagRotate)?parseInt(e.body.tagRotate):""}',\n                    '${parseInt(e.body.rotate)?parseInt(e.body.rotate):""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add BitAdjust Success",data:{}}),n.refreshDataBitDisplay=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_bitdisplay",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'status="'+e.body.status+'",'),void 0!==e.body.text&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.text&&(o=o+'text0="'+e.body.text0+'",'),void 0!==e.body.text&&(o=o+'text1="'+e.body.text1+'",'),void 0!==e.body.text&&(o=o+'color0="'+e.body.color0+'",'),void 0!==e.body.text&&(o=o+'color1="'+e.body.color1+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.nameImage0&&(o=o+'nameImage0="'+e.body.nameImage0+'",'),void 0!==e.body.nameImage1&&(o=o+'nameImage1="'+e.body.nameImage1+'",'),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",'),void 0!==e.body.blink0&&(o=o+'blink0="'+e.body.blink0+'",'),void 0!==e.body.blink1&&(o=o+'blink1="'+e.body.blink1+'",'),void 0!==e.body.tagRotate&&(o=o+"tagRotate="+e.body.tagRotate+","),void 0!==e.body.rotate&&(o=o+"rotate="+e.body.rotate+",");let r=o.substring(0,o.length-1);console.log(r),n.LocalDB.serialize(()=>{let o="UPDATE BitDisplay SET "+r+' WHERE _id = "'+e.body._id+'"';console.log(o),n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataBitDisplay=!0,t.json({result:"success",message:"Update BitDisplay Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_bitdisplay",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from BitDisplay WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataBitDisplay=!0,t.json({result:"success",message:"Delete BitDisplay Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{console.log(n.resultMap),t.send(n.resultMap)}),r.post("/insert_map",(e,t,o)=>{}),r.put("/update_map",(e,t,o)=>{}),r.delete("/delete_map",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultBitAdjust)}),r.get("/getdata2",(e,t)=>{t.send(n.BitAdjust)}),r.post("/insert_bitAdjust",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{console.log(e.body);let o=`INSERT INTO BitAdjust(_id,parent,idGroupControl,status,left,top,width,height,text,tag,type,borderRadius,colorText,colorOn,colorOff,myKeyPress,fontSize,levelUser,nameImage0,nameImage1,borderWidthOn,borderWidthOff,blink0,blink1 )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}',\n                    '${e.body.status?e.body.status:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${parseInt(e.body.height)?parseInt(e.body.height):""}',\n                    '${e.body.text?e.body.text:""}',\n                    '${e.body.tag?e.body.tag:""}',\n                    '${parseInt(e.body.type)?parseInt(e.body.type):""}',\n                    '${parseInt(e.body.borderRadius)?parseInt(e.body.borderRadius):""}',\n                    '${e.body.colorText?e.body.colorText:""}',\n                    '${e.body.colorOn?e.body.colorOn:""}',\n                    '${e.body.colorOff?e.body.colorOff:""}',\n                    '${e.body.myKeyPress?e.body.myKeyPress:""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${parseInt(e.body.levelUser)?parseInt(e.body.levelUser):0}',\n                    '${e.body.nameImage0?e.body.nameImage0:""}',\n                    '${e.body.nameImage1?e.body.nameImage1:""}',\n                    '${e.body.borderWidthOn?e.body.borderWidthOn:""}',\n                    '${e.body.borderWidthOff?e.body.borderWidthOff:""}',\n                    '${e.body.blink0?e.body.blink0:""}',\n                    '${e.body.blink1?e.body.blink1:""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add BitAdjust Success",data:{}}),n.refreshDataBitAdjust=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_bitadjust",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'status="'+e.body.status+'",'),void 0!==e.body.text&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.text&&(o=o+'text="'+e.body.text+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.width&&(o=o+"height="+e.body.height+","),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.fontSize&&(o=o+"type="+e.body.type+","),void 0!==e.body.fontSize&&(o=o+"borderRadius="+e.body.borderRadius+","),void 0!==e.body.idGroupControl&&(o=o+'colorText="'+e.body.colorText+'",'),void 0!==e.body.idGroupControl&&(o=o+'colorOn="'+e.body.colorOn+'",'),void 0!==e.body.idGroupControl&&(o=o+'colorOff="'+e.body.colorOff+'",'),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",'),void 0!==e.body.idGroupControl&&(o=o+'myKeyPress="'+e.body.myKeyPress+'",'),void 0!==e.body.idGroupControl&&(o=o+'levelUser="'+e.body.levelUser+'",'),void 0!==e.body.idGroupControl&&(o=o+'nameImage0="'+e.body.nameImage0+'",'),void 0!==e.body.idGroupControl&&(o=o+'nameImage1="'+e.body.nameImage1+'",'),void 0!==e.body.idGroupControl&&(o=o+'borderWidthOn="'+e.body.borderWidthOn+'",'),void 0!==e.body.idGroupControl&&(o=o+'borderWidthOff="'+e.body.borderWidthOff+'",'),void 0!==e.body.idGroupControl&&(o=o+'blink0="'+e.body.blink0+'",'),void 0!==e.body.idGroupControl&&(o=o+'blink1="'+e.body.blink1+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE BitAdjust SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataBitAdjust=!0,t.json({result:"success",message:"Update Label Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_bitadjust",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from BitAdjust WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataBitAdjust=!0,t.json({result:"success",message:"Delete BitAdjust Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultPanel)}),r.post("/insert_panel",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{console.log(e.body);let o=`INSERT INTO Panel(_id,parent,left,top,width,height,backgroundColor,borderRadius,boxShadow1,boxShadow2,boxShadow3,boxShadowColor,zIndex,margin,padding,idGroupControl )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${parseInt(e.body.height)?parseInt(e.body.height):""}',\n                    '${e.body.backgroundColor?e.body.backgroundColor:""}',\n                    '${parseInt(e.body.borderRadius)?parseInt(e.body.borderRadius):""}',\n                    '${parseInt(e.body.boxShadow1)?parseInt(e.body.boxShadow1):""}',\n                    '${parseInt(e.body.boxShadow2)?parseInt(e.body.boxShadow2):""}',\n                    '${parseInt(e.body.boxShadow3)?parseInt(e.body.boxShadow3):""}',\n                    '${e.body.boxShadowColor?e.body.boxShadowColor:""}',\n                    '${parseInt(e.body.zIndex)?parseInt(e.body.zIndex):""}',\n                    '${parseInt(e.body.margin)?parseInt(e.body.margin):""}',\n                    '${parseInt(e.body.padding)?parseInt(e.body.padding):""}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add Panel Success",data:{}}),n.refreshDataPanel=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_panel",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.height&&(o=o+"height="+e.body.height+","),void 0!==e.body.backgroundColor&&(o=o+'backgroundColor="'+e.body.backgroundColor+'",'),void 0!==e.body.borderRadius&&(o=o+"borderRadius="+e.body.borderRadius+","),void 0!==e.body.boxShadow1&&(o=o+"boxShadow1="+e.body.boxShadow1+","),void 0!==e.body.boxShadow2&&(o=o+"boxShadow2="+e.body.boxShadow2+","),void 0!==e.body.boxShadow3&&(o=o+"boxShadow3="+e.body.boxShadow3+","),void 0!==e.body.boxShadowColor&&(o=o+'boxShadowColor="'+e.body.boxShadowColor+'",'),void 0!==e.body.zIndex&&(o=o+"zIndex="+e.body.zIndex+","),void 0!==e.body.margin&&(o=o+"margin="+e.body.margin+","),void 0!==e.body.padding&&(o=o+"padding="+e.body.padding+","),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",');let r=o.substring(0,o.length-1);console.log(r),n.LocalDB.serialize(()=>{let o="UPDATE Panel SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataPanel=!0,t.json({result:"success",message:"Update Panel Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_panel",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from Panel WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataPanel=!0,t.json({result:"success",message:"Delete Panel Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultTextField)}),r.post("/insert_textField",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o=`INSERT INTO String(_id,parent,tag,label,value,left,top,width,color,fontSize,rows,idGroupControl )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.tag?e.body.tag:""}',\n                    '${e.body.label?e.body.label:""}',\n                    '${e.body.value?e.body.value:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${e.body.color?e.body.color:""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${parseInt(e.body.rows)?parseInt(e.body.rows):0}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add TextField Success",data:{}}),n.refreshDataTextField=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_textField",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.label&&(o=o+'label="'+e.body.label+'",'),void 0!==e.body.value&&(o=o+'value="'+e.body.value+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.color&&(o=o+'color="'+e.body.color+'",'),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.rows&&(o=o+"rows="+e.body.rows+","),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE TextField SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataTextField=!0,t.json({result:"success",message:"Update TextField Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_textField",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from TextField WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataTextField=!0,t.json({result:"success",message:"Delete TextField Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultTextFieldInput)}),r.post("/insert_textFieldInput",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o=`INSERT INTO TextFieldInput(_id,parent,idGroupControl,tag,label,value,left,top,width,color,fontSize,rows)VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}',\n                    '${e.body.tag?e.body.tag:""}',\n                    '${e.body.label?e.body.label:""}',\n                    '${e.body.value?e.body.value:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${e.body.color?e.body.color:""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${parseInt(e.body.rows)?parseInt(e.body.rows):""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add TextFieldInput Success",data:{}}),n.refreshDataTextFieldInput=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_textFieldInput",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",'),void 0!==e.body.tag&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.label&&(o=o+'label="'+e.body.label+'",'),void 0!==e.body.value&&(o=o+'value="'+e.body.value+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.color&&(o=o+'color="'+e.body.color+'",'),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.rows&&(o=o+"rows="+e.body.rows+",");let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE TextFieldInput SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataTextFieldInput=!0,t.json({result:"success",message:"Update TextFieldInput Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_textFieldInput",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from TextFieldInput WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataTextFieldInput=!0,t.json({result:"success",message:"Delete TextFieldInput Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{n.refreshDataBitDisplayImageLibrary=!0,t.send(n.resultBitDisplayImageLibrary)}),r.post("/upload",(e,t,o)=>{if(a.LocalDB){3!==e.body.data.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/).length&&t.json({result:"error",data:{},message:"Invalid input string"});try{n.LocalDB.serialize(()=>{let o="";o+="_id text,",o+="name text,",o+="img text,";let r=o.substring(0,o.length-1);n.LocalDB.run("CREATE TABLE IF NOT EXISTS BitDisplayImageLibrary("+r+")",o=>{if(o)t.json({result:"error",data:{},message:o});else{let o=`INSERT INTO BitDisplayImageLibrary(_id,name,img)VALUES(\n                        '${"a"+Math.random().toString(36)}',\n                        '${e.body.name?e.body.name:"___"}',\n                        '${e.body.data?e.body.data:"___"}'\n                        )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add BitDisplayImageLibrary Success",data:{}}),n.refreshDataBitDisplayImageLibrary=!0})}})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}}),r.delete("/delete",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from BitDisplayImageLibrary WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataBitDisplayImageLibrary=!0,t.json({result:"success",message:"Delete BitDisplayImageLibrary Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);o(5);r.get("/getdata",(e,t)=>{n.refreshDataBitAdjustImageLibrary=!0,t.send(n.resultBitAdjustImageLibrary)}),r.post("/upload",(e,t,o)=>{3!==e.body.data.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/).length&&t.json({result:"error",data:{},message:"Invalid input string"})}),r.delete("/delete",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);o(5);r.get("/getdata",(e,t)=>{n.refreshDataMapImageLibrary=!0,t.send(n.resultMapImageLibrary)}),r.post("/upload",(e,t,o)=>{}),r.delete("/delete",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataElementImageLibrary=!0,t.send(n.resultElementImageLibrary)}),r.post("/insert_element",(e,t,o)=>{}),r.put("/update_elementLibrary",(e,t,o)=>{}),r.delete("/delete",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{n.refreshDataGroupControl=!0,t.send(n.resultGroupControl)}),r.post("/insert_groupControl",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{console.log(e.body);let o=`INSERT INTO BitDisplay(_id,parent,left,top,width,height,backgroundColor,borderRadius,boxShadow1,boxShadow2,boxShadow3,boxShadowColor,zIndex,margin,padding,leftIcon,topIcon,widthIcon,active )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${parseInt(e.body.height)?parseInt(e.body.height):""}',\n                    '${e.body.backgroundColor?e.body.backgroundColor:""}',\n                    '${parseInt(e.body.borderRadius)?parseInt(e.body.borderRadius):""}',\n                    '${parseInt(e.body.boxShadow1)?parseInt(e.body.boxShadow1):""}',\n                    '${parseInt(e.body.boxShadow2)?parseInt(e.body.boxShadow2):""}',\n                    '${parseInt(e.body.boxShadow3)?parseInt(e.body.boxShadow3):""}',\n                    '${e.body.boxShadowColor?e.body.boxShadowColor:""}',\n                    '${parseInt(e.body.zIndex)?parseInt(e.body.zIndex):""}',\n                    '${parseInt(e.body.margin)?parseInt(e.body.margin):""}',\n                    '${parseInt(e.body.padding)?parseInt(e.body.padding):""}',\n                    '${parseInt(e.body.leftIcon)?parseInt(e.body.leftIcon):""}',\n                    '${parseInt(e.body.topIcon)?parseInt(e.body.topIcon):""}',\n                    '${parseInt(e.body.widthIcon)?parseInt(e.body.widthIcon):""}',\n                    '${parseInt(e.body.active)?parseInt(e.body.active):""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add GroupDControl Success",data:{}}),n.refreshDataGroupControl=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_groupControl",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.height&&(o=o+"height="+e.body.height+","),void 0!==e.body.backgroundColor&&(o=o+'backgroundColor="'+e.body.backgroundColor+'",'),void 0!==e.body.borderRadius&&(o=o+"borderRadius="+e.body.borderRadius+","),void 0!==e.body.boxShadow1&&(o=o+"boxShadow1="+e.body.boxShadow1+","),void 0!==e.body.boxShadow2&&(o=o+"boxShadow2="+e.body.boxShadow2+","),void 0!==e.body.boxShadow3&&(o=o+"boxShadow3="+e.body.boxShadow3+","),void 0!==e.body.boxShadowColor&&(o=o+'boxShadowColor="'+e.body.boxShadowColor+'",'),void 0!==e.body.zIndex&&(o=o+"zIndex="+e.body.zIndex+","),void 0!==e.body.margin&&(o=o+"margin="+e.body.margin+","),void 0!==e.body.padding&&(o=o+"padding="+e.body.padding+","),void 0!==e.body.leftIcon&&(o=o+"leftIcon="+e.body.leftIcon+","),void 0!==e.body.topIcon&&(o=o+"topIcon="+e.body.topIcon+","),void 0!==e.body.widthIcon&&(o=o+"widthIcon="+e.body.widthIcon+","),void 0!==e.body.active&&(o=o+'active="'+e.body.active+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE GroupControl SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataGroupControl=!0,t.json({result:"success",message:"Update GroupControl Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_groupControl",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from GroupControl WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataGroupControl=!0,t.json({result:"success",message:"Delete GroupControl Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultString)}),r.post("/insert_string",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o=`INSERT INTO String(_id,parent,tag,left,top,width,text,color,fontSize,speedScroll,idGroupControl )VALUES(\n                    '${"a"+Math.random().toString(36)}',\n                    '${e.body.parent?e.body.parent:""}',\n                    '${e.body.tag?e.body.tag:""}',\n                    '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                    '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                    '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                    '${e.body.text?e.body.text:""}',\n                    '${e.body.color?e.body.color:""}',\n                    '${parseInt(e.body.fontSize)?parseInt(e.body.fontSize):""}',\n                    '${parseInt(e.body.speedScroll)?parseInt(e.body.speedScroll):0}',\n                    '${e.body.idGroupControl?e.body.idGroupControl:""}'\n                    )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add String Success",data:{}}),n.refreshDataString=!0})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_string",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.parent&&(o=o+'parent="'+e.body.parent+'",'),void 0!==e.body.text&&(o=o+'tag="'+e.body.tag+'",'),void 0!==e.body.text&&(o=o+'text="'+e.body.text+'",'),void 0!==e.body.color&&(o=o+'color="'+e.body.color+'",'),void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.fontSize&&(o=o+"fontSize="+e.body.fontSize+","),void 0!==e.body.speedScroll&&(o=o+"speedScroll="+e.body.speedScroll+","),void 0!==e.body.idGroupControl&&(o=o+'idGroupControl="'+e.body.idGroupControl+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE String SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataString=!0,t.json({result:"success",message:"Update String Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_string",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from String WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataString=!0,t.json({result:"success",message:"Delete String Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);o(2);r.get("/getdata",(e,t)=>{n.refreshDataUser=!0,t.send(n.resultUser)}),r.post("/signup",async(e,t,o)=>{const{name:r,password:n,rePassword:a}=e.body;n!==a&&t.json({result:"error",data:{},message:"Error is: password not match"})}),r.post("/signin",async(e,t)=>{const{name:o,password:r}=e.body}),r.delete("/delete_user",(e,t)=>{}),r.put("/update_user",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataSampleRoute=!0,t.send(n.resultSampleRoute)}),r.post("/insert_sample_route",(e,t,o)=>{}),r.put("/update_sample_route",(e,t,o)=>{}),r.delete("/delete_sample_route",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataFormularProject=!0,t.send(n.resultFormularProject)}),r.get("/gettype",(e,t)=>{t.send(n.xlData2)}),r.post("/insert_formular_project",(e,t,o)=>{}),r.put("/update_formular_project",(e,t,o)=>{}),r.delete("/delete_formular_project",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataScaleProject=!0,t.send(n.resultScaleProject)}),r.post("/insert_scale_project",(e,t)=>{}),r.put("/update_scale_project",(e,t,o)=>{}),r.delete("/delete_scale_project",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{t.send(n.resultSearchBox)}),r.post("/insert_searchBox",(e,t,o)=>{}),r.put("/update_searchBox",(e,t,o)=>{}),r.delete("/delete_searchBox",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{n.refreshDataSearchBoxList=!0,t.send(n.resultSearchBoxList)}),r.get("/getdataProject",(e,t)=>{n.refreshDataSearchBoxList=!0,t.send()}),r.post("/insert_searchBoxList",(e,t,o)=>{}),r.put("/update_searchBoxList",(e,t,o)=>{}),r.delete("/delete_searchBoxList",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{t.send(n.resultProjectCall)}),r.post("/insert_projectCall",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o="";o+="_id text,",o+="parent text,",o+="left int,",o+="top int,",o+="width int,",o+="height int,",o+="nameLink text,";let r=o.substring(0,o.length-1);n.LocalDB.run("CREATE TABLE IF NOT EXISTS ProjectCall("+r+")",o=>{if(o)t.json({result:"error",data:{},message:o});else{console.log(e.body);let o=`INSERT INTO ProjectCall(_id,parent,left,top,width,height,nameLink)VALUES(\n                        '${"a"+Math.random().toString(36)}',\n                        '${e.body.parent?e.body.parent:"___"}',\n                        '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                        '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                        '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                        '${parseInt(e.body.height)?parseInt(e.body.height):""}',\n                        '${e.body.nameLink?e.body.nameLink:""}'\n                        )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add ProjectCall Success",data:{}}),n.refreshDataProjectCall=!0})}})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_projectCall",(e,t,o)=>{if(a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.height&&(o=o+"height="+e.body.height+","),void 0!==e.body.nameLink&&(o=o+'nameLink="'+e.body.nameLink+'",');let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE ProjectCall SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataProjectCall=!0,t.json({result:"success",message:"Update ProjectCall Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_projectCall",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from ProjectCall WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataProjectCall=!0,t.json({result:"success",message:"Delete Panel Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0),a=o(2);r.get("/getdata",(e,t)=>{if(n.namePallet=e.query.namePallet,a.LocalDB)try{n.LocalDB.serialize(()=>{n.LocalDB.all('SELECT * FROM Palletizer WHERE namePallet="'+e.query.namePallet+'" ORDER BY Number ASC',(function(e,o){n.resultPalletizer=o,console.log(o),t.send(n.resultPalletizer)}))})}catch(e){response.json({result:"error",data:{},message:"Error is: "+e})}}),r.get("/getdata_product",(e,t)=>{n.refreshDataPalletizer=!0,t.send(n.resultPalletizerProduct)}),r.post("/insert_palletizer",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o="";o+="_id text,",o+="namePallet text,",o+="layout int,",o+="left int,",o+="top int,",o+="number int,",o+="horizontal int,";let r=o.substring(0,o.length-1);n.LocalDB.run("CREATE TABLE IF NOT EXISTS Palletizer("+r+")",o=>{if(o)console.log(o),t.json({result:"error",data:{},message:o});else{console.log(e.body);let o=`INSERT INTO Palletizer(_id,namePallet,layout,left,top,number,horizontal)VALUES(\n                        '${"a"+Math.random().toString(36)}',\n                        '${e.body.namePallet}',\n                        '${e.body.layout}',\n                        '${parseInt(e.body.left)?parseInt(e.body.left):""}',\n                        '${parseInt(e.body.top)?parseInt(e.body.top):""}',\n                        '${parseInt(e.body.number)?parseInt(e.body.number):0}',\n                        '${parseInt(e.body.horizontal)}'\n                        )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add Palletizer Success",data:{}}),n.refreshDataPalletizer=!0})}})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.post("/insert_palletizer_newProduct",(e,t,o)=>{if(a.LocalDB)try{n.LocalDB.serialize(()=>{let o="";o+="_id text,",o+="nameProduct text,",o+="width int,",o+="height int,";let r=o.substring(0,o.length-1);n.LocalDB.run("CREATE TABLE IF NOT EXISTS PalletizerProduct("+r+")",o=>{if(o)console.log(o),t.json({result:"error",data:{},message:o});else{console.log(e.body);let o=`INSERT INTO PalletizerProduct(_id,nameProduct,width,height)VALUES(\n                        '${"a"+Math.random().toString(36)}',\n                        '${e.body.nameProduct}',\n                        '${parseInt(e.body.width)?parseInt(e.body.width):""}',\n                        '${parseInt(e.body.height)?parseInt(e.body.height):""}'\n                        )`;n.LocalDB.run(o,e=>{if(e)throw console.log(e),e;t.json({result:"success",message:"Add Palletizer Product Success",data:{}}),n.refreshDataPalletizerProduct=!0})}})})}catch(e){t.json({result:"error",data:{},message:"Error is: "+err})}}),r.put("/update_palletizer_nameproduct",(e,t,o)=>{if(console.log(e.body),a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.width&&(o=o+"width="+e.body.width+","),void 0!==e.body.height&&(o=o+"height="+e.body.height+",");let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE PalletizerProduct SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataPalletizerProduct=!0,t.json({result:"success",message:"Update Palletizer Name Product Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.put("/update_palletizer",(e,t,o)=>{if(console.log(e.body),a.LocalDB&&void 0!==e.body._id)try{let o="";void 0!==e.body.left&&(o=o+"left="+e.body.left+","),void 0!==e.body.top&&(o=o+"top="+e.body.top+","),void 0!==e.body.horizontal&&(o=o+"horizontal="+e.body.horizontal+","),void 0!==e.body.number&&(o=o+"number="+e.body.number+",");let r=o.substring(0,o.length-1);n.LocalDB.serialize(()=>{let o="UPDATE Palletizer SET "+r+' WHERE _id = "'+e.body._id+'"';n.LocalDB.run(o,(function(e){if(e)return console.error(e.message);n.refreshDataPalletizer=!0,t.json({result:"success",message:"Update Palletizer Success",data:{}})}))})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.put("/alignment_palletizer",(e,t,o)=>{if(console.log(e.body),a.LocalDB)try{n.LocalDB.serialize(()=>{for(let t=0;t<n.resultPalletizer.length;t++){if(1==n.resultPalletizer[t].layout){let o="";o=o+"left="+(parseInt(n.resultPalletizer[t].left)+parseInt(e.body.offsetLeft1))+",",o=o+"top="+(parseInt(n.resultPalletizer[t].top)+parseInt(e.body.offsetTop1))+",";let r="UPDATE Palletizer SET "+o.substring(0,o.length-1)+' WHERE _id = "'+n.resultPalletizer[t]._id+'"';console.log(r),n.LocalDB.run(r,(function(e){if(e)return console.error(e.message)}))}if(2==n.resultPalletizer[t].layout){let o="";o=o+"left="+(parseInt(n.resultPalletizer[t].left)+parseInt(e.body.offsetLeft2))+",",o=o+"top="+(parseInt(n.resultPalletizer[t].top)+parseInt(e.body.offsetTop2))+",";let r="UPDATE Palletizer SET "+o.substring(0,o.length-1)+' WHERE _id = "'+n.resultPalletizer[t]._id+'"';n.LocalDB.run(r,(function(e){if(e)return console.error(e.message)}))}}setTimeout((function(){n.refreshDataPalletizer=!0}),1e3),t.json({result:"success",message:"Update Palletizer Success",data:{}})})}catch(e){console.log(e),t.json({result:"error",data:{},message:"Error is: "+e})}}),r.delete("/delete_palletizer",(e,t)=>{if(a.LocalDB&&void 0!==e.body._id)try{n.LocalDB.serialize(()=>{n.LocalDB.run('DELETE from Palletizer WHERE _id = "'+e.body._id+'"',(function(e){e&&t.json({result:"error",data:{},message:"Delete Error"}),n.refreshDataPalletizer=!0,t.json({result:"success",message:"Delete Palletizer Success",data:{}})}))})}catch(e){t.json({result:"error",data:{},message:"Error is: "+e})}}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{t.send(n.resultProjectNanoenvi)}),r.get("/getdata_history",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(0);r.get("/getdata",(e,t)=>{t.send(n.resultPercent)}),r.post("/insert_percent",(e,t,o)=>{}),r.put("/update_percent",(e,t,o)=>{}),r.delete("/delete_percent",(e,t)=>{}),e.exports=r},function(e,t,o){var r=o(1).Router();e.exports=r},function(e,t,o){var r=o(1).Router(),n=o(2);r.get("/getdata",(e,t)=>{var o="PnlSynopticScada";n.PLC_Omron&&(o="PLC_Omron"),n.ProjectOnsemi&&(o="ProjectOnsemi"),n.PLC_Schneider&&(o="PLC_Schneider"),n.Cobot&&(o="Cobot"),n.MobileRobot&&(o="MobileRobot"),n.PLC_Mitsubishi&&(o="PLC_Mitsubishi"),n.PLC_Siemens&&(o="PLC_Siemens"),n.PLC_ScaleMeasure&&(o="PLC_ScaleMeasure"),n.Nanoenvi&&(o="Nanoenvi"),n.GPS&&(o="GPS"),n.StampingMachine&&(o="StampingMachine"),n.Sanofi&&(o="Sanofi"),n.TestScada&&(o="TestScada"),t.send(o)}),e.exports=r},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("socket.io")},function(e,t,o){(function(){var o=this,r=o._,n={},a=Array.prototype,s=Object.prototype,i=Function.prototype,d=a.push,l=a.slice,u=a.concat,c=s.toString,p=s.hasOwnProperty,y=a.forEach,b=a.map,f=a.reduce,g=a.reduceRight,h=a.filter,m=a.every,D=a.some,v=a.indexOf,_=a.lastIndexOf,S=Array.isArray,I=Object.keys,E=i.bind,L=function(e){return e instanceof L?e:this instanceof L?void(this._wrapped=e):new L(e)};e.exports&&(t=e.exports=L),t._=L,L.VERSION="1.4.4";var O=L.each=L.forEach=function(e,t,o){if(null!=e)if(y&&e.forEach===y)e.forEach(t,o);else if(e.length===+e.length){for(var r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e)===n)return}else for(var s in e)if(L.has(e,s)&&t.call(o,e[s],s,e)===n)return};L.map=L.collect=function(e,t,o){var r=[];return null==e?r:b&&e.map===b?e.map(t,o):(O(e,(function(e,n,a){r[r.length]=t.call(o,e,n,a)})),r)};var x="Reduce of empty array with no initial value";L.reduce=L.foldl=L.inject=function(e,t,o,r){var n=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return r&&(t=L.bind(t,r)),n?e.reduce(t,o):e.reduce(t);if(O(e,(function(e,a,s){n?o=t.call(r,o,e,a,s):(o=e,n=!0)})),!n)throw new TypeError(x);return o},L.reduceRight=L.foldr=function(e,t,o,r){var n=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return r&&(t=L.bind(t,r)),n?e.reduceRight(t,o):e.reduceRight(t);var a=e.length;if(a!==+a){var s=L.keys(e);a=s.length}if(O(e,(function(i,d,l){d=s?s[--a]:--a,n?o=t.call(r,o,e[d],d,l):(o=e[d],n=!0)})),!n)throw new TypeError(x);return o},L.find=L.detect=function(e,t,o){var r;return j(e,(function(e,n,a){if(t.call(o,e,n,a))return r=e,!0})),r},L.filter=L.select=function(e,t,o){var r=[];return null==e?r:h&&e.filter===h?e.filter(t,o):(O(e,(function(e,n,a){t.call(o,e,n,a)&&(r[r.length]=e)})),r)},L.reject=function(e,t,o){return L.filter(e,(function(e,r,n){return!t.call(o,e,r,n)}),o)},L.every=L.all=function(e,t,o){t||(t=L.identity);var r=!0;return null==e?r:m&&e.every===m?e.every(t,o):(O(e,(function(e,a,s){if(!(r=r&&t.call(o,e,a,s)))return n})),!!r)};var j=L.some=L.any=function(e,t,o){t||(t=L.identity);var r=!1;return null==e?r:D&&e.some===D?e.some(t,o):(O(e,(function(e,a,s){if(r||(r=t.call(o,e,a,s)))return n})),!!r)};L.contains=L.include=function(e,t){return null!=e&&(v&&e.indexOf===v?-1!=e.indexOf(t):j(e,(function(e){return e===t})))},L.invoke=function(e,t){var o=l.call(arguments,2),r=L.isFunction(t);return L.map(e,(function(e){return(r?t:e[t]).apply(e,o)}))},L.pluck=function(e,t){return L.map(e,(function(e){return e[t]}))},L.where=function(e,t,o){return L.isEmpty(t)?o?null:[]:L[o?"find":"filter"](e,(function(e){for(var o in t)if(t[o]!==e[o])return!1;return!0}))},L.findWhere=function(e,t){return L.where(e,t,!0)},L.max=function(e,t,o){if(!t&&L.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&L.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return O(e,(function(e,n,a){var s=t?t.call(o,e,n,a):e;s>=r.computed&&(r={value:e,computed:s})})),r.value},L.min=function(e,t,o){if(!t&&L.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&L.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return O(e,(function(e,n,a){var s=t?t.call(o,e,n,a):e;s<r.computed&&(r={value:e,computed:s})})),r.value},L.shuffle=function(e){var t,o=0,r=[];return O(e,(function(e){t=L.random(o++),r[o-1]=r[t],r[t]=e})),r};var C=function(e){return L.isFunction(e)?e:function(t){return t[e]}};L.sortBy=function(e,t,o){var r=C(t);return L.pluck(L.map(e,(function(e,t,n){return{value:e,index:t,criteria:r.call(o,e,t,n)}})).sort((function(e,t){var o=e.criteria,r=t.criteria;if(o!==r){if(o>r||void 0===o)return 1;if(o<r||void 0===r)return-1}return e.index<t.index?-1:1})),"value")};var B=function(e,t,o,r){var n={},a=C(t||L.identity);return O(e,(function(t,s){var i=a.call(o,t,s,e);r(n,i,t)})),n};L.groupBy=function(e,t,o){return B(e,t,o,(function(e,t,o){(L.has(e,t)?e[t]:e[t]=[]).push(o)}))},L.countBy=function(e,t,o){return B(e,t,o,(function(e,t){L.has(e,t)||(e[t]=0),e[t]++}))},L.sortedIndex=function(e,t,o,r){for(var n=(o=null==o?L.identity:C(o)).call(r,t),a=0,s=e.length;a<s;){var i=a+s>>>1;o.call(r,e[i])<n?a=i+1:s=i}return a},L.toArray=function(e){return e?L.isArray(e)?l.call(e):e.length===+e.length?L.map(e,L.identity):L.values(e):[]},L.size=function(e){return null==e?0:e.length===+e.length?e.length:L.keys(e).length},L.first=L.head=L.take=function(e,t,o){if(null!=e)return null==t||o?e[0]:l.call(e,0,t)},L.initial=function(e,t,o){return l.call(e,0,e.length-(null==t||o?1:t))},L.last=function(e,t,o){if(null!=e)return null==t||o?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},L.rest=L.tail=L.drop=function(e,t,o){return l.call(e,null==t||o?1:t)},L.compact=function(e){return L.filter(e,L.identity)};var A=function(e,t,o){return O(e,(function(e){L.isArray(e)?t?d.apply(o,e):A(e,t,o):o.push(e)})),o};L.flatten=function(e,t){return A(e,t,[])},L.without=function(e){return L.difference(e,l.call(arguments,1))},L.uniq=L.unique=function(e,t,o,r){L.isFunction(t)&&(r=o,o=t,t=!1);var n=o?L.map(e,o,r):e,a=[],s=[];return O(n,(function(o,r){(t?r&&s[s.length-1]===o:L.contains(s,o))||(s.push(o),a.push(e[r]))})),a},L.union=function(){return L.uniq(u.apply(a,arguments))},L.intersection=function(e){var t=l.call(arguments,1);return L.filter(L.uniq(e),(function(e){return L.every(t,(function(t){return L.indexOf(t,e)>=0}))}))},L.difference=function(e){var t=u.apply(a,l.call(arguments,1));return L.filter(e,(function(e){return!L.contains(t,e)}))},L.zip=function(){for(var e=l.call(arguments),t=L.max(L.pluck(e,"length")),o=new Array(t),r=0;r<t;r++)o[r]=L.pluck(e,""+r);return o},L.object=function(e,t){if(null==e)return{};for(var o={},r=0,n=e.length;r<n;r++)t?o[e[r]]=t[r]:o[e[r][0]]=e[r][1];return o},L.indexOf=function(e,t,o){if(null==e)return-1;var r=0,n=e.length;if(o){if("number"!=typeof o)return e[r=L.sortedIndex(e,t)]===t?r:-1;r=o<0?Math.max(0,n+o):o}if(v&&e.indexOf===v)return e.indexOf(t,o);for(;r<n;r++)if(e[r]===t)return r;return-1},L.lastIndexOf=function(e,t,o){if(null==e)return-1;var r=null!=o;if(_&&e.lastIndexOf===_)return r?e.lastIndexOf(t,o):e.lastIndexOf(t);for(var n=r?o:e.length;n--;)if(e[n]===t)return n;return-1},L.range=function(e,t,o){arguments.length<=1&&(t=e||0,e=0),o=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/o),0),n=0,a=new Array(r);n<r;)a[n++]=e,e+=o;return a},L.bind=function(e,t){if(e.bind===E&&E)return E.apply(e,l.call(arguments,1));var o=l.call(arguments,2);return function(){return e.apply(t,o.concat(l.call(arguments)))}},L.partial=function(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}},L.bindAll=function(e){var t=l.call(arguments,1);return 0===t.length&&(t=L.functions(e)),O(t,(function(t){e[t]=L.bind(e[t],e)})),e},L.memoize=function(e,t){var o={};return t||(t=L.identity),function(){var r=t.apply(this,arguments);return L.has(o,r)?o[r]:o[r]=e.apply(this,arguments)}},L.delay=function(e,t){var o=l.call(arguments,2);return setTimeout((function(){return e.apply(null,o)}),t)},L.defer=function(e){return L.delay.apply(L,[e,1].concat(l.call(arguments,1)))},L.throttle=function(e,t){var o,r,n,a,s=0,i=function(){s=new Date,n=null,a=e.apply(o,r)};return function(){var d=new Date,l=t-(d-s);return o=this,r=arguments,l<=0?(clearTimeout(n),n=null,s=d,a=e.apply(o,r)):n||(n=setTimeout(i,l)),a}},L.debounce=function(e,t,o){var r,n;return function(){var a=this,s=arguments,i=function(){r=null,o||(n=e.apply(a,s))},d=o&&!r;return clearTimeout(r),r=setTimeout(i,t),d&&(n=e.apply(a,s)),n}},L.once=function(e){var t,o=!1;return function(){return o||(o=!0,t=e.apply(this,arguments),e=null),t}},L.wrap=function(e,t){return function(){var o=[e];return d.apply(o,arguments),t.apply(this,o)}},L.compose=function(){var e=arguments;return function(){for(var t=arguments,o=e.length-1;o>=0;o--)t=[e[o].apply(this,t)];return t[0]}},L.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},L.keys=I||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var o in e)L.has(e,o)&&(t[t.length]=o);return t},L.values=function(e){var t=[];for(var o in e)L.has(e,o)&&t.push(e[o]);return t},L.pairs=function(e){var t=[];for(var o in e)L.has(e,o)&&t.push([o,e[o]]);return t},L.invert=function(e){var t={};for(var o in e)L.has(e,o)&&(t[e[o]]=o);return t},L.functions=L.methods=function(e){var t=[];for(var o in e)L.isFunction(e[o])&&t.push(o);return t.sort()},L.extend=function(e){return O(l.call(arguments,1),(function(t){if(t)for(var o in t)e[o]=t[o]})),e},L.pick=function(e){var t={},o=u.apply(a,l.call(arguments,1));return O(o,(function(o){o in e&&(t[o]=e[o])})),t},L.omit=function(e){var t={},o=u.apply(a,l.call(arguments,1));for(var r in e)L.contains(o,r)||(t[r]=e[r]);return t},L.defaults=function(e){return O(l.call(arguments,1),(function(t){if(t)for(var o in t)null==e[o]&&(e[o]=t[o])})),e},L.clone=function(e){return L.isObject(e)?L.isArray(e)?e.slice():L.extend({},e):e},L.tap=function(e,t){return t(e),e};var R=function(e,t,o,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof L&&(e=e._wrapped),t instanceof L&&(t=t._wrapped);var n=c.call(e);if(n!=c.call(t))return!1;switch(n){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=o.length;a--;)if(o[a]==e)return r[a]==t;o.push(e),r.push(t);var s=0,i=!0;if("[object Array]"==n){if(i=(s=e.length)==t.length)for(;s--&&(i=R(e[s],t[s],o,r)););}else{var d=e.constructor,l=t.constructor;if(d!==l&&!(L.isFunction(d)&&d instanceof d&&L.isFunction(l)&&l instanceof l))return!1;for(var u in e)if(L.has(e,u)&&(s++,!(i=L.has(t,u)&&R(e[u],t[u],o,r))))break;if(i){for(u in t)if(L.has(t,u)&&!s--)break;i=!s}}return o.pop(),r.pop(),i};L.isEqual=function(e,t){return R(e,t,[],[])},L.isEmpty=function(e){if(null==e)return!0;if(L.isArray(e)||L.isString(e))return 0===e.length;for(var t in e)if(L.has(e,t))return!1;return!0},L.isElement=function(e){return!(!e||1!==e.nodeType)},L.isArray=S||function(e){return"[object Array]"==c.call(e)},L.isObject=function(e){return e===Object(e)},O(["Arguments","Function","String","Number","Date","RegExp"],(function(e){L["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}})),L.isArguments(arguments)||(L.isArguments=function(e){return!(!e||!L.has(e,"callee"))}),L.isFunction=function(e){return"function"==typeof e},L.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},L.isNaN=function(e){return L.isNumber(e)&&e!=+e},L.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==c.call(e)},L.isNull=function(e){return null===e},L.isUndefined=function(e){return void 0===e},L.has=function(e,t){return p.call(e,t)},L.noConflict=function(){return o._=r,this},L.identity=function(e){return e},L.times=function(e,t,o){for(var r=Array(e),n=0;n<e;n++)r[n]=t.call(o,n);return r},L.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=L.invert(P.escape);var w={escape:new RegExp("["+L.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+L.keys(P.unescape).join("|")+")","g")};L.each(["escape","unescape"],(function(e){L[e]=function(t){return null==t?"":(""+t).replace(w[e],(function(t){return P[e][t]}))}})),L.result=function(e,t){if(null==e)return null;var o=e[t];return L.isFunction(o)?o.call(e):o},L.mixin=function(e){O(L.functions(e),(function(t){var o=L[t]=e[t];L.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),z.call(this,o.apply(L,e))}}))};var W=0;L.uniqueId=function(e){var t=++W+"";return e?e+t:t},L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\t|\u2028|\u2029/g;L.template=function(e,t,o){var r;o=L.defaults({},o,L.templateSettings);var n=new RegExp([(o.escape||T).source,(o.interpolate||T).source,(o.evaluate||T).source].join("|")+"|$","g"),a=0,s="__p+='";e.replace(n,(function(t,o,r,n,i){return s+=e.slice(a,i).replace($,(function(e){return"\\"+N[e]})),o&&(s+="'+\n((__t=("+o+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),n&&(s+="';\n"+n+"\n__p+='"),a=i+t.length,t})),s+="';\n",o.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(o.variable||"obj","_",s)}catch(e){throw e.source=s,e}if(t)return r(t,L);var i=function(e){return r.call(this,e,L)};return i.source="function("+(o.variable||"obj")+"){\n"+s+"}",i},L.chain=function(e){return L(e).chain()};var z=function(e){return this._chain?L(e).chain():e};L.mixin(L),O(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];L.prototype[e]=function(){var o=this._wrapped;return t.apply(o,arguments),"shift"!=e&&"splice"!=e||0!==o.length||delete o[0],z.call(this,o)}})),O(["concat","join","slice"],(function(e){var t=a[e];L.prototype[e]=function(){return z.call(this,t.apply(this._wrapped,arguments))}})),L.extend(L.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},function(e,t,o){var r=o(0),n=o(6),a=o(2);e.exports=function(){var e=o(53);console.log(a.PLC_Omron_IP),r.COMMUNICATION_PLC_OMRON=e.FinsClient(9600,a.PLC_Omron_IP),r.COMMUNICATION_PLC_OMRON.on("open",(function(){console.log("Ket noi den PLC"),r.TextField[1]="Opening Connect to PLC",StatusConnectPLC=1})),r.COMMUNICATION_PLC_OMRON.on("error",(function(e){StatusConnectPLC=0,r.TextField[1]="Error",console.log("Error: ",e)})),r.COMMUNICATION_PLC_OMRON.on("close",(function(e){StatusConnectPLC=0,r.TextField[1]="Close",console.log("clossing")})),r.COMMUNICATION_PLC_OMRON.on("reply",(function(e){StatusConnectPLC=1,r.TextField[1]="Connected","0101"==e.command&&e.values.length===a.PLC_Omron_Size_D0&&(r.Element=n.ReadWordOfPLC(a.PLC_Omron_WordStartElement,a.PLC_Omron_LengthOfWordElement,e.values),r.BitAdjust=n.ReadBitOfPLC(a.PLC_Omron_WordStartBitAdjust,a.PLC_Omron_LengthOfWordBitAdjust,e.values),r.WordBitAdjust=n.ReadWordOfPLC(a.PLC_Omron_WordStartBitAdjust,a.PLC_Omron_LengthOfWordBitAdjust,e.values),r.BitDisplay=n.ReadBitOfPLC(a.PLC_Omron_WordStartBitDisplay,a.PLC_Omron_LengthOfWordBitDisplay,e.values),r.WordDisplay=n.ReadWordOfPLC(a.PLC_Omron_WordStartWordDisplay,a.PLC_Omron_LengthOfWordWordDisplay,e.values),r.WordAdjust=n.ReadWordOfPLC(a.PLC_Omron_WordStartWordAdjust,a.PLC_Omron_LengthOfWordWordAdjust,e.values),r.DWordDisplay=n.ReadDWordOfPLC(a.PLC_Omron_WordStartDWordDisplay,a.PLC_Omron_LengthOfWordDWordDisplay,e.values),r.DWordAdjust=n.ReadDWordOfPLC(a.PLC_Omron_WordStartDWordAdjust,a.PLC_Omron_LengthOfWordDWordAdjust,e.values),r.ValueCommunicationPLC=n.ReadWordOfPLC(a.PLC_Omron_WordStartCommunicationPLC,a.PLC_Omron_LengthOfWordCommunicationPLC,e.values),r.ValueRotate=n.ReadWordOfPLC(a.PLC_Omron_WordStartRotate,a.PLC_Omron_LengthOfWordRotate,e.values),console.log(r.WordDisplay[0]),console.log(r.WordDisplay[1]),a.PLC_Omron_Debug&&console.log("Debug: "+e.values)),"0101"==e.command&&e.values.length===a.PLC_Omron_LengthOfWordString1&&(r.ListString=n.ReadStringOfPLC(a.PLC_Omron_NumberWordInString,e.values)),"0101"==e.command&&e.values.length===a.PLC_Omron_LengthOfWordString2&&(r.ListString=r.ListString.concat(n.ReadStringOfPLC(a.PLC_Omron_NumberWordInString,e.values)))}));setInterval((function(){r.COMMUNICATION_PLC_OMRON.read("D0",a.PLC_Omron_Size_D0,(function(e,t){}))}),a.PLC_Omron_IntervalScan)}},function(e,t,o){var r=o(54);t.FinsClient=r},function(e,t,o){var r=o(55),n=o(56).inherits,a=o(57).EventEmitter,s=o(58);function i(e,t,o){if(!(this instanceof i))return new i(e,t,o);a.call(this),i.init.call(this,e,t,o)}e.exports=i,n(i,a),_compareArrays=function(e,t){if(e.length!==t.length)return!1;for(var o=e.length;o--;)if(e[o]!==t[o])return!1;return!0},_mergeArrays=function(e){for(var t=[],o=0,r=e.length;o<r;o++){var n=Object.prototype.toString.call(e[o]).split(" ").pop().split("]").shift().toLowerCase();n&&(t=t.concat(/^(array|collection|arguments|object)$/.test(n)?_mergeArrays(e[o]):e[o]))}return t},_keyFromValue=function(e,t){return Object.keys(e).filter((function(o){return e[o]===t}))[0]},_padHex=function(e,t){return"0"*e+t.toString(16).substr(-e)},_wordsToBytes=function(e){var t=[];if(e.length)for(var o in e)t.push((65280&e[o])>>8),t.push(255&e[o]);else t.push((65280&e)>>8),t.push(255&e);return t},_translateMemoryAddress=function(e){var t=e.match(/(.)([0-9]*):?([0-9]*)/),o={MemoryArea:t[1],Address:t[2],Bit:t[3]},r=[];return s.MemoryAreas[o.MemoryArea]?r.push([s.MemoryAreas[o.MemoryArea]]):r.push([130]),r.push(_wordsToBytes([o.Address])),r.push([0]),_mergeArrays(r)},_incrementSID=function(e){return e%254+1},_buildHeader=function(e){return[e.ICF,e.RSV,e.GCT,e.DNA,e.DA1,e.DA2,e.SNA,e.SA1,e.SA2,e.SID]},_buildPacket=function(e){return _mergeArrays(e)},_getResponseType=function(e){var t=[];return t.push(e[10]),t.push(e[11]),t},_processDefault=function(e,t){var o=e[9],r=e.slice(10,12).toString("hex"),n=e.slice(12,14).toString("hex");return{remotehost:t.address,sid:o,command:r,response:n}},_processStatusRead=function(e,t){var o=e[9],r=e.slice(10,12).toString("hex"),n=e.slice(12,14).toString("hex"),a=e[14],i=e[15],d={},l={};for(var u in s.FatalErrorData)0!=(e.readInt16BE(17)&s.FatalErrorData[u])&&d.push(u);for(var u in s.nonFatalErrorData)0!=(e.readInt16BE(18)&s.nonFatalErrorData[u])&&l.push(u);var c=s.Status,p=s.Modes;return{remotehost:t.address,sid:o,command:r,response:n,status:_keyFromValue(c,a),mode:_keyFromValue(p,i),fatalErrorData:d||null,nonFatalErrorData:l||null}},_processMemoryAreaRead=function(e,t){for(var o=[],r=e[9],n=e.slice(10,12).toString("hex"),a=e.slice(12,14).toString("hex"),s=e.slice(14,e.length),i=0;i<s.length;i+=2)o.push(s.readInt16BE(i));return{remotehost:t.address,sid:r,command:n,response:a,values:o}},_processReply=function(e,t){var o=s.Commands;switch(_getResponseType(e).join(" ")){case o.CONTROLLER_STATUS_READ.join(" "):return _processStatusRead(e,t);case o.MEMORY_AREA_READ.join(" "):return _processMemoryAreaRead(e,t);default:return _processDefault(e,t)}},_decodePacket=function(e,t){for(var o=[],r=e.slice(10,12).toString("hex"),n=e.slice(12,14).toString("hex"),a=e.slice(14,e.length),s=0;s<a.length;s+=2)o.push(a.readInt16BE(s));return{remotehost:t.address,command:r,code:n,values:o}},i.init=function(e,t,o){var n=this,a=s.DefaultHostValues,i=s.DefaultOptions;this.port=e||a.port,this.host=t||a.host,this.timeout=o&&o.timeout||i.timeout,this.socket=r.createSocket("udp4"),this.responded=!1,this.header=s.DefaultFinsHeader,this.socket.on("message",(function(e,t){n.responded=!0;var o=_processReply(e,t);n.emit("reply",o)})),this.socket.on("listening",(function(){n.emit("open")})),this.socket.on("close",(function(){n.emit("close")})),this.socket.on("error",(function(e){n.emit("error",e)})),this.timeout&&setTimeout((function(){0==n.responded&&n.emit("timeout",n.host)}),n.timeout)},i.prototype.read=function(e,t,o){this.header.SID=_incrementSID(this.header.SID);var r=_buildHeader(this.header),n=(e=_translateMemoryAddress(e),t=_wordsToBytes(t),s.Commands.MEMORY_AREA_READ),a=_buildPacket([r,n,[e,t]]),i=new Buffer(a);this.socket.send(i,0,i.length,this.port,this.host,o)},i.prototype.write=function(e,t,o){this.header.SID=_incrementSID(this.header.SID);var r=_buildHeader(this.header),n=(e=_translateMemoryAddress(e),_wordsToBytes(t.length||1)),a=s.Commands.MEMORY_AREA_WRITE,i=(t=_wordsToBytes(t),_buildPacket([r,a,[e,n,t]])),d=new Buffer(i);this.socket.send(d,0,d.length,this.port,this.host,o)},i.prototype.fill=function(e,t,o,r){this.header.SID=_incrementSID(this.header.SID);var n=_buildHeader(this.header),a=(e=_translateMemoryAddress(e),o=_wordsToBytes(o),s.Commands.MEMORY_AREA_FILL),i=(t=_wordsToBytes(t),_buildPacket([n,a,[e,o,t]])),d=new Buffer(i);this.socket.send(d,0,d.length,this.port,this.host,r)},i.prototype.run=function(e){this.header.SID=_incrementSID(this.header.SID);var t=_buildHeader(this.header),o=s.Commands.RUN,r=_buildPacket([t,o]),n=new Buffer(r);this.socket.send(n,0,n.length,this.port,this.host,e)},i.prototype.stop=function(e){this.header.SID=_incrementSID(this.header.SID);var t=_buildHeader(this.header),o=s.Commands.STOP,r=_buildPacket([t,o]),n=new Buffer(r);this.socket.send(n,0,n.length,this.port,this.host,e)},i.prototype.status=function(e){this.header.SID=_incrementSID(this.header.SID);var t=_buildHeader(this.header),o=s.Commands.CONTROLLER_STATUS_READ,r=_buildPacket([t,o]),n=new Buffer(r);this.socket.send(n,0,n.length,this.port,this.host,e)},i.prototype.close=function(){this.socket.close()}},function(e,t){e.exports=require("dgram")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("events")},function(e,t){e.exports.DefaultHostValues={host:"127.0.0.1",port:9600},e.exports.DefaultOptions={timeout:2e3},e.exports.DefaultFinsHeader={ICF:128,RSV:0,GCT:2,DNA:0,DA1:0,DA2:0,SNA:0,SA1:34,SA2:0,SID:0},e.exports.Commands={CONTROLLER_STATUS_READ:[6,1],MEMORY_AREA_READ:[1,1],MEMORY_AREA_WRITE:[1,2],MEMORY_AREA_FILL:[1,3],RUN:[4,1],STOP:[4,2]},e.exports.FatalErrorData={SYSTEM_ERROR:64,IO_SETTING_ERROR:1024,IO_POINT_OVERFLOW:2048,CPU_BUS_ERROR:16384,MEMORY_ERROR:32768},e.exports.NonFatalErrorData={PC_LINK_ERROR:1,HOST_LINK_ERROR:2,BATTERY_ERROR:16,REMOTE_IO_ERROR:32,SPECIAL_IO_UNIT_ERROR:256,IO_COLLATE_ERROR:512,SYSTEM_ERROR:32768},e.exports.Status={CPU_STANDBY:128,STOP:0,RUN:1},e.exports.Modes={MONITOR:2,DEBUG:1,RUN:4},e.exports.MemoryAreas={E:160,C:176,W:177,H:178,A:179,D:130},e.exports.Errors={"0000":"Completed normally","0001":"Service was interrupted","0101":"Local node not part of Network","0102":"Token time-out, node number too large","0103":"Number of transmit retries exceeded","0104":"Maximum number of frames exceeded","0105":"Node number setting error (range)","0106":"Node number duplication error"}},function(e,t,o){o(60);var r=o(0);o(2);console.log("Test Scadas"),e.exports=function(){r.Percent=new Array(20).fill(0),r.BitAdjust=new Array(20).fill(0),r.BitDisplay=new Array(20).fill(0),r.WordAdjust=new Array(20).fill(0),r.WordDisplay=new Array(20).fill(0),r.DWordAdjust=new Array(20).fill(0),r.DWordDisplay=new Array(20).fill(0),r.ListString=new Array(20).fill("---"),r.TextField=new Array(20).fill("---"),r.TextFieldInput=new Array(10).fill(0),r.IO.sockets.on("connection",(function(e){console.log("co nguoi ket noi"+e.id),e.emit("BitAdjust",r.BitAdjust),e.emit("BitDisplay",r.BitDisplay),e.emit("WordAdjust",r.WordAdjust),e.emit("WordDisplay",r.WordDisplay),e.emit("DWordAdjust",r.DWordAdjust),e.emit("DWordDisplay",r.DWordDisplay),e.on("disconnect",(function(){console.log("ngat kekt noi")})),setInterval((function(){e.emit("BitAdjust",r.BitAdjust),e.emit("BitDisplay",r.BitDisplay),e.emit("WordAdjust",r.WordAdjust),e.emit("WordDisplay",r.WordDisplay),e.emit("DWordAdjust",r.DWordAdjust),e.emit("DWordDisplay",r.DWordDisplay)}),6e4),e.on("RefreshData",(function(e){console.log(e)})),e.on("Client-send-data",(function(t){console.log("Data socketio client: "+JSON.stringify(t)),"ElementForce_Run"!==t.NameCommand||isNaN(t.tag)||r.COMMUNICATION_PLC_OMRON.write("D1000",[100,100,t.tag,t.tag]),"ElementForce_Stop"!==t.NameCommand||isNaN(t.tag)||r.COMMUNICATION_PLC_OMRON.write("D1000",[101,101,t.tag,t.tag]),"ElementForce_Auto"!==t.NameCommand||isNaN(t.tag)||r.COMMUNICATION_PLC_OMRON.write("D1000",[102,102,t.tag,t.tag]),"ElementForce_Interlock"!==t.NameCommand||isNaN(t.tag)||r.COMMUNICATION_PLC_OMRON.write("D1000",[103,103,t.tag,t.tag]),"BitAdjustForce"!==t.NameCommand||isNaN(t.tag)||(r.BitAdjust[t.tag]=!r.BitAdjust[t.tag],e.emit("BitAdjust",r.BitAdjust)),"WordAdjustForce"!==t.NameCommand||isNaN(t.tag)||(r.WordAdjust[t.tag]=t.value,e.emit("WordAdjust",r.WordAdjust)),"DWordAdjustForce"!==t.NameCommand||isNaN(t.tag)||(r.DWordAdjust[t.tag]=t.value,e.emit("DWordAdjust",r.DWordAdjust))}))}))}},function(e,t,o){const r=o(3);var n=o(0);e.exports={savePositions:function(e,t){var o="log/"+e+".log",a=t+"\r\n";try{r.existsSync(o)||r.writeFile(o,"Data:\r\n",(function(e){e&&console.log("An error occured while writing JSON Object to File.")})),r.appendFile(o,a,(function(e){if(e)return console.log(e);console.log('successfully appended "'+a+'"'),n.IO.sockets.emit("Server-Send-Snackbar",{status:"success",message:"Export: "+a})}))}catch(e){console.error(e)}}}}]);
//# sourceMappingURL=index.js.map