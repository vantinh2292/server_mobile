(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{2149:function(e,t,n){"use strict";n.r(t);var r=n(30),a=n(31),o=n(34),i=n(32),u=n(33),l=n(1),c=n.n(l),s=n(6),f=n.n(s),p=n(514),m=n.n(p),d=n(46),h=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChange=function(e){console.log(e)},n.postdata=function(e){console.log("post data"),f.a.post("http://localhost:8000/uploadImage/upload",{dataTransfer:e}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},n.state={dataResultImage:[]},n}return Object(u.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.d(function(t,n){n&&console.log("Axios Get Element Error"),t&&e.setState({dataResultImage:t})})}},{key:"render",value:function(){var e=this;return this.state.dataResultImage.length>0&&console.log(this.state.dataResultImage[0].imageData),c.a.createElement("div",null,c.a.createElement(m.a,{onChange:this.onChange,maxNumber:10,multiple:!0,maxFileSize:5242880,acceptType:["jpg","gif","png"]},function(t){var n=t.imageList,r=t.onImageUpload,a=t.onImageRemoveAll;return c.a.createElement("div",null,c.a.createElement("button",{onClick:r},"Upload images"),c.a.createElement("button",{onClick:a},"Remove all images"),n.map(function(t){return c.a.createElement("div",{key:t.key},c.a.createElement("img",{src:t.dataURL}),c.a.createElement("button",{onClick:function(){return e.postdata(t.dataURL)}},"Update"),c.a.createElement("button",{onClick:t.onRemove},"Remove"))}))}),c.a.createElement("h1",null,"123123123"),this.state.dataResultImage.map(function(e){return c.a.createElement("div",{key:e.key},c.a.createElement("img",{src:e.dataString}))}))}}]),t}(l.Component);t.default=h},514:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function u(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(u){o=[6,u],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var u=function(e){var t=new FileReader;return new Promise(function(n){t.addEventListener("load",function(){return n(String(t.result))}),t.readAsDataURL(e)})},l=function(e,t,n,r){void 0===t&&(t="absolute"),void 0===n&&(n=0),void 0===r&&(r=1);var a=new Image;return new Promise(function(o){a.addEventListener("load",function(){if(a.width&&a.height)switch(t){case"absolute":return a.width===n&&a.height===r?o(!0):o(!1);case"ratio":var e=n/r;return a.width/a.height===e?o(!0):o(!1);case"less":return a.width<=n&&a.height<=r?o(!0):o(!1);case"more":return a.width>=n&&a.height>=r?o(!0):o(!1)}o(!0)}),a.src=e})},c=r.useRef,s=r.useState,f=r.useCallback,p={maxFileSize:!1,maxNumber:!1,acceptType:!1,resolution:!1},m=function(e){var t=e.multiple,n=e.onChange,m=e.maxNumber,d=e.children,h=e.defaultValue,g=e.acceptType,v=e.maxFileSize,y=e.resolutionWidth,b=e.resolutionHeight,w=e.resolutionType,k=e.onError,R=c(null),E=s(function(){var e=[];return h&&(e=h.map(function(e){return a(a({},e),{key:e.dataURL,onUpdate:function(){return N(e.dataURL)},onRemove:function(){return A(e.dataURL)}})})),e}),O=E[0],x=E[1],U=s(""),j=U[0],S=U[1],I=s(a({},p)),L=I[0],C=I[1],P=function(e){if(n){var t=e.map(function(e){e.key,e.onUpdate,e.onRemove;var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["key","onUpdate","onRemove"]);return a({},t)});n(t)}},T=f(function(){R.current&&R.current.click()},[R]),F=f(function(){S(function(e){return e?"":e}),T()},[T]),z=f(function(){x([]),P([])},[]),A=function(e){x(function(t){var n=t.filter(function(t){return t.key!==e});return P(n),n})},N=function(e){S(e),T()},D=function(e){for(var t=[],n=0;n<e.length;n++)t.push(u(e[n]));return Promise.all(t).then(function(t){return t.map(function(t,n){var r=(new Date).getTime().toString()+"-"+e[n].name;return{dataURL:t,file:e[n],key:r,onUpdate:function(){return N(r)},onRemove:function(){return A(r)}}})})},G=g&&g.length>0?g.map(function(e){return"."+e}).join(", "):"image/*";return r.createElement(r.Fragment,null,r.createElement("input",{type:"file",accept:G,ref:R,multiple:t&&!j,onChange:function(e){return o(void 0,void 0,void 0,function(){var n,r,u;return i(this,function(c){switch(c.label){case 0:return(n=e.target.files)?[4,D(n)]:[3,3];case 1:return(r=c.sent()).length>0?[4,(s=r,o(void 0,void 0,void 0,function(){var e,t,n,r,o,u;return i(this,function(i){switch(i.label){case 0:return e=a({},p),m&&!j&&s.length+O.length>m?(e.maxNumber=!0,[3,5]):[3,1];case 1:t=0,i.label=2;case 2:if(!(t<s.length))return[3,5];if(n=s[t],r=n.file,o=n.dataURL,r){if(!r.type.includes("image"))return e.acceptType=!0,[3,5];if(v&&r.size>v)return e.maxFileSize=!0,[3,5];if(g&&g.length>0&&(u=r.name.split(".").pop()||"",g.indexOf(u)<0))return e.acceptType=!0,[3,5]}return o&&w?[4,l(o,w,y,b)]:[3,4];case 3:if(!i.sent())return e.resolution=!0,[3,5];i.label=4;case 4:return t++,[3,2];case 5:return C(e),Object.values(e).find(Boolean)?(k&&k(e,s),[2,!1]):[2,!0]}})}))]:[3,3];case 2:c.sent()&&(u=void 0,j?u=O.map(function(e){return e.key===j?a({},r[0]):e}):t?(u=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,u=o.length;i<u;i++,a++)r[a]=o[i];return r}(O,r),m&&u.length>m&&(u=O)):u=[r[0]],x(u),P(u)),c.label=3;case 3:return j&&S(""),R.current&&(R.current.value=""),[2]}var s})})},style:{display:"none"}}),d&&d({imageList:O,onImageUpload:F,onImageRemoveAll:z,errors:L}))};m.defaultProps={maxNumber:1e3,multiple:!1,acceptType:[]},t.default=m}}]);
//# sourceMappingURL=82.526fc76a.chunk.js.map